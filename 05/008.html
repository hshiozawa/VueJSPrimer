<!DOCTYPE html>
<meta charset="utf-8">
<title>Vue app</title>

<script src="https://unpkg.com/vue@2.5.17"></script>

<div id="app">
    <img v-fallback-image src="./logo.png" :alt="altText">
</div>

<script>
    Vue.directive('fallback-image', {
        bind: function (el, binding) {
            console.log('bind', binding);
            el.addEventListener('error', function () {
                el.src = 'https://dummyimage.com/400x400/000/ffffff.png&text=no+image'
            });
        },
        update: function (el, binding) {
            console.log('update', binding);
            if (binding.value !== binding.oldValue) {

            }
        }
    });

    const vm = new Vue({
        el: '#app',
        data: function () {
            return {
                altText: 'logo'
            }
        }
    });
</script>
